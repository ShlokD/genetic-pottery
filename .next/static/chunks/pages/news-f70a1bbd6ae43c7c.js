(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{3454:function(e,t,n){"use strict";var r,o;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"===typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(7663)},2616:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/news",function(){return n(4480)}])},5707:function(e,t,n){"use strict";var r=n(7997);t.Z=function(e){var t=e.stories;return(0,r.tZ)(r.HY,{children:t.map((function(e,t){return(0,r.tZ)("a",{className:"bw1 pv2 bb b--dark-green no-underline black mb4",href:e.url,target:"_blank",rel:"noopener noreferrer",children:(0,r.BX)("div",{className:"flex flex-column flex-row-l items-center w-100 pb2",children:[(0,r.tZ)("div",{className:"w-100 w-30-l flex flex-column items-center justify-center",children:(0,r.tZ)("img",{className:"w-100",src:e.urlToImage,alt:e.title,loading:"lazy"})}),(0,r.BX)("div",{className:"flex flex-column items-center w-100 w-70-l ml4-l",children:[(0,r.tZ)("h3",{className:"truncate w-30 w-50-m w-100-l",children:e.title}),(0,r.tZ)("p",{className:"ma0 w-100",children:e.description}),(0,r.tZ)("p",{className:"ma0 mv3 moon-gray",children:new Date(e.publishedAt).toDateString()})]})]})},"other-story-".concat(t,"-").concat(([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))))}))})}},4480:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return m},default:function(){return g}});var r=n(7997);function o(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(l){return void n(l)}a.done?t(u):Promise.resolve(u).then(r,o)}var i=n(1799),c=n(9396),a=n(414),u=n(1094),l=n(5707),s=(n(3454),n(396)),f=n(1163),p=function(e){var t,n=e.onNextClick,o=(0,u.b)().pages,i=(0,f.useRouter)(),c=null===i||void 0===i||null===(t=i.query)||void 0===t?void 0:t.pg,a=(0,s.eJ)(c?Number(c):1),l=a[0],p=a[1];(0,s.d4)((function(){c!==l&&p(isNaN(c)?1:Number(c))}),[c]);var d=l+4<o?l+4:o,h=new Array(5).fill(0).map((function(e,t){return Math.abs(t-d)})).reverse();return(0,r.BX)("div",{className:"flex w-100 justify-around pv2",children:[(0,r.tZ)("button",{className:"bg-transparent pa3 black b--none pointer",onClick:function(){n(l-1),p(l-1)},disabled:1===l,"aria-label":"Previous",children:"\u2190"}),h.map((function(e,t){var o=e===l;return(0,r.tZ)("button",{className:"pa3 b--none br-100 pointer ".concat(o?"bg-black white":"bg-transparent black"),onClick:function(){return n(t=e),void p(t);var t},children:e},"pagination-button-".concat(t))})),(0,r.tZ)("button",{className:"bg-transparent pa3 black b--none pointer",onClick:function(){n(l+1),p(l+1)},disabled:l===o,"aria-label":"Next",children:"\u2192"})]})},d=function(){var e=(0,u.b)(),t=e.categoryStories,n=e.setCategoryStories,s=e.session,d=(0,f.useRouter)(),h=function(){var e,t=(e=function(e){var t,r,o,u,l,f,p,h;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),d.push({pathname:"/news",query:(0,c.Z)((0,i.Z)({},d.query),{pg:e})},void 0,{shallow:!0}),o={headers:{"x-session":s}},u=null===d||void 0===d||null===(t=d.query)||void 0===t?void 0:t.c,l=null===d||void 0===d||null===(r=d.query)||void 0===r?void 0:r.q,f=l?"/api/category?page=".concat(e,"&q=").concat(l):"/api/category?page=".concat(e,"&category=").concat(u,"}"),[4,fetch(f,o)];case 1:return[4,a.sent().json()];case 2:return p=a.sent(),n(null===(v=null===p||void 0===p?void 0:p.articles)||void 0===v?void 0:v.map((function(e){return(0,c.Z)((0,i.Z)({},e),{urlToImage:e.urlToImage||"/placeholder.jpg",title:null===e||void 0===e?void 0:e.title.split("-")[0]})}))),window.scrollTo(0,0),[3,4];case 3:return h=a.sent(),console.error(h),[3,4];case 4:return[2]}var v}))},function(){var t=this,n=arguments;return new Promise((function(r,i){var c=e.apply(t,n);function a(e){o(c,r,i,a,u,"next",e)}function u(e){o(c,r,i,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,r.BX)("div",{className:"pv2 ph4 flex flex-column justify-center w-100",children:[(0,r.tZ)(l.Z,{stories:t}),(0,r.tZ)(p,{onNextClick:h})]})},h=n(9008),v=n.n(h),m=!0;function g(e){var t=e.stories,n=e.pages,o=(0,s.eJ)(t),i=o[0],c=o[1],a=t.map((function(e){return e.urlToImage}));return(0,s.d4)((function(){t!==i&&c(t)}),[t]),(0,r.BX)(r.HY,{children:[(0,r.tZ)(v(),{children:a.map((function(e,t){return e?(0,r.tZ)("link",{rel:"preload",href:e,as:"image"},"preload-".concat(t)):""}))}),(0,r.tZ)(u.I.Provider,{value:{categoryStories:i,setCategoryStories:c,pages:n},children:i.length>0?(0,r.tZ)(d,{}):(0,r.tZ)("div",{className:"ma6 pa6",children:(0,r.tZ)("h2",{children:"Something went wrong. Please try again"})})})]})}},7663:function(e){!function(){var t={229:function(e){var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"===typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,u=[],l=!1,s=-1;function f(){l&&a&&(l=!1,a.length?u=a.concat(u):s=-1,u.length&&p())}function p(){if(!l){var e=c(f);l=!0;for(var t=u.length;t;){for(a=u,u=[];++s<t;)a&&a[s].run();s=-1,t=u.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||c(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}},c=!0;try{t[e](i,i.exports,r),c=!1}finally{c&&delete n[e]}return i.exports}r.ab="//";var o=r(229);e.exports=o}()},9396:function(e,t,n){"use strict";function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[774,888,179],(function(){return t=2616,e(e.s=t);var t}));var t=e.O();_N_E=t}]);